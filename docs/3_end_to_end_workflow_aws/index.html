<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.81.0"><meta name=description content><link rel=icon href=https://filetrust.github.io/cdr-plugin-folder-to-folder/images/favicon.png type=image/png><title>End to End Workflow on AWS - Glasswall CDR Platform</title><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/nucleus.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/fontawesome-all.min.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/hybrid.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/featherlight.min.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/perfect-scrollbar.min.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/auto-complete.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/atom-one-dark-reasonable.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/theme.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/tabs.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/hugo-theme.css?1626875318 rel=stylesheet><link href=https://filetrust.github.io/cdr-plugin-folder-to-folder/css/theme-blue.css?1626875318 rel=stylesheet><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/jquery-3.3.1.min.js?1626875318></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/3_end_to_end_workflow_aws/><nav id=sidebar><div id=header-wrapper><div id=header><img src=https://glasswall-desktop.com/static/media/logo.4d89dba8.svg></div></div><section id=homelinks><ul><li><a class=padding href=https://filetrust.github.io/cdr-plugin-folder-to-folder/><i class="fas fa-home"></i>Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/docs/ title=Docs class="dd-item
parent"><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/>Docs</a><ul><li data-nav-id=/docs/0_introduction/ title=Introduction class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/0_introduction/>Introduction</a></li><li data-nav-id=/docs/1_how_to_deploy_cdr_plugin_aws/ title="Deploy CDR Plugin in AWS" class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/1_how_to_deploy_cdr_plugin_aws/>Deploy CDR Plugin in AWS</a></li><li data-nav-id=/docs/2_how_to_deploy_cdr_plugin_esxi/ title="Deploy CDR Plugin in ESXi" class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/2_how_to_deploy_cdr_plugin_esxi/>Deploy CDR Plugin in ESXi</a></li><li data-nav-id=/docs/3_end_to_end_workflow_aws/ title="End to End Workflow on AWS" class="dd-item active"><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/3_end_to_end_workflow_aws/>End to End Workflow on AWS</a></li><li data-nav-id=/docs/4_end_to_end_workflow_esxi/ title="End to End Workflow on ESXI" class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/4_end_to_end_workflow_esxi/>End to End Workflow on ESXI</a></li><li data-nav-id=/docs/5_faq/ title=FAQ class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/5_faq/>FAQ</a></li><li data-nav-id=/docs/6_how_to_start/ title="How to start?" class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/6_how_to_start/>How to start?</a></li><li data-nav-id=/docs/7_additional_workflows/ title="New workflows" class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/7_additional_workflows/>New workflows</a></li><li data-nav-id=/docs/remote_storage_mount/ title="Remote Storage Mount" class=dd-item><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/remote_storage_mount/>Remote Storage Mount</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/filetrust/cdr-plugin-folder-to-folder><i class="fab fa-github"></i>Github repo</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/>Home</a> > <a href=https://filetrust.github.io/cdr-plugin-folder-to-folder/docs/>Docs</a> > End to End Workflow on AWS</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#parts-of-the-end-to-end-workflow---aws>Parts of the End to End Workflow - AWS</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#components-overview>Components overview</a></li><li><a href=#use-hugo>Use Hugo</a></li><li><a href=#how-individual-components-are-used>How individual components are used?</a></li><li><a href=#use-minio>Use Minio</a></li><li><a href=#run-tests-using-jupyter-notebook>Run tests using Jupyter Notebook</a><ul><li><a href=#jupyter-use-case-2>Jupyter: Use case 2</a></li></ul></li><li><a href=#run-tests-using-swagger>Run tests using Swagger</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>End to End Workflow on AWS</h1><h2 id=parts-of-the-end-to-end-workflow---aws>Parts of the End to End Workflow - AWS</h2><ul><li>Worker cluster = Glasswall SDK AMI</li><li>Workflow cluster = CDR Plugin AMI</li></ul><h2 id=prerequisites>Prerequisites</h2><ul><li><p>Deploy <code>Glasswall SDK</code> VM</p><ul><li>You can reuse already deployed GW SDK VMs (IPs)</li><li>You can use and you should use more than one GW SDK VM (depending on amount of data you are testing)</li></ul></li><li><p>Deploy <code>CDR Plugin</code> VM</p><ul><li>You can use <a href=https://www.loom.com/share/ab2b8904104843c5af424484c57a380a>this video</a> as a reference</li></ul></li><li><p>SSH to your CDR Plugin VM</p><ul><li>Run following command: <code>ssh -L 8002:127.0.0.1:5601 -L 8001:127.0.0.1:8888 -L 8003:127.0.0.1:9000 -L 8000:127.0.0.1:8880 -L 8004:127.0.0.1:1313 -L 8005:127.0.0.1:8866 ubuntu@&lt;cdr_plugin_ip></code></li><li>Above command will map default ports to the ones you can use to access components local via <code>localhost:&lt;port></code></li></ul><p><img src=https://user-images.githubusercontent.com/70108899/117103199-2bf4a200-ad7a-11eb-9489-e4eaf8a30b43.png alt="image (5)"></p><ul><li>You can use <a href=https://www.loom.com/share/ab2b8904104843c5af424484c57a380a>this video</a> as a reference</li></ul></li></ul><h2 id=components-overview>Components overview</h2><ul><li><img src=https://user-images.githubusercontent.com/70108899/117103089-f64fb900-ad79-11eb-9d1a-a2b51b3d2123.png alt="image (4)"></li></ul><h2 id=use-hugo>Use Hugo</h2><ul><li><p>Open the website by accessing <code>localhost:8004</code>
<img src=https://user-images.githubusercontent.com/70108899/117105827-19c93280-ad7f-11eb-97ab-194197127b69.png alt=image></p></li><li><p>Navigate to <code>Workflows>folder-to-folder</code>
<img src=https://user-images.githubusercontent.com/70108899/117105917-45e4b380-ad7f-11eb-83d5-f435693f275b.png alt=image></p></li><li><p><code>Set base dir</code> to corresponding folder on Minio you want to test.</p><ul><li>Verify in the output that folder is set</li></ul><p><img src=https://user-images.githubusercontent.com/70108899/117106068-83494100-ad7f-11eb-9fbc-7a9f95a1fc89.png alt=image></p></li><li><p>Navigate to <code>Set IPs</code></p><ul><li>Click on <code>Load from AWS</code>. This will load GW SDK IPs currently deployed on AWS</li><li>Click on <code>Set plugin IPs</code> to assign previously loaded IPs to CDR Plugin to use</li></ul><p><img src=https://user-images.githubusercontent.com/70108899/117106254-d58a6200-ad7f-11eb-8b92-4da2a743e3de.png alt=image></p></li><li><p>Navigate to <code>Workflows>folder-to-folder</code></p><ul><li>Set base dir one more time</li><li>Click on <code>clear data</code> to clean HD2 and HD3 folders and have clean start</li><li>Click on <code>load files</code></li><li>Press <code>load</code> button in the left corner to refresh the Dashboard<ul><li>In below screen select <code>Processed Files v8</code> Kibana Dashboard</li><li>Once files are loaded Dashboard should reflect that</li><li>Use <code>Refresh</code> button within Kibana to follow with most recent changes</li></ul></li></ul><p><img src=https://user-images.githubusercontent.com/70108899/117106668-8f81ce00-ad80-11eb-8bf2-97e90146138e.png alt=image></p><ul><li>Once processing is done you can select <code>File Analysis - Threat Level</code> Dashboard to see the analysis</li></ul></li><li><p>Navigate to <code>Status</code> to check latest processing status</p></li><li><p>Navigate to <code>Servers</code> to access FastAPI, Jupyter, Minio and Elastic</p></li><li><p>Navigate to <code>Docs</code> to check latest documentation</p></li><li><p>Follow along with <a href=https://user-images.githubusercontent.com/70108899/117102137-f5b62300-ad77-11eb-92b9-c377b7261618.mp4>this video</a> as it covers above details</p></li></ul><h2 id=how-individual-components-are-used>How individual components are used?</h2><ul><li>All components below now can be reached within Hugo and used from there</li><li>They can also be accessed individually from the browser</li><li>Jupyter notebook is completely integrated with Voila into Hugo so it can be used directly from <code>Workflow>folder-to-folder</code> page providing better user experience</li><li>Kibana Dashboards are visible from <code>Workflow>folder-to-folder</code> page</li></ul><h2 id=use-minio>Use Minio</h2><ul><li><p>Open the <code>MinIO</code> by accessing <code>localhost:8003</code></p><ul><li>Login to Minio with provided credentials</li><li>Within Minio you will have 2 testing scenarios.<ul><li>Scenario 1 having just one file in HD1</li><li>Scenario 2 having multiple files and subfolders in HD1</li></ul></li></ul><p><img src=https://user-images.githubusercontent.com/70108899/114287415-e983c200-9a66-11eb-91da-843097de1f7e.png alt=image></p><ul><li>Under each of testing scenarios along with HD1 you will find HD2 and HD3 folders<ul><li>HD2 contains original file data (hash folder with metadata and source) and statuses (hash.json)</li><li>HD3 contains rebuild file</li></ul></li><li>In order to have clean start, you can go ahead and delete all content from HD2 and HD3</li><li>Or you can upload the files (drag and drop in HD1 folder), if you want to test and follow along<ul><li>Data set examples can be found <a href=https://github.com/k8-proxy/data-sets>here</a></li></ul></li></ul></li></ul><h2 id=run-tests-using-jupyter-notebook>Run tests using Jupyter Notebook</h2><ul><li>Open Jupiter Notebook by accessing <code>localhost:8001</code> within your browser</li><li>Login to Jupyter notebook with provided credentials</li><li>There are two main folders in the root<ul><li>test_data<ul><li>scenario-1 and scenario-2<ul><li>hd1 - Source Data which has original files</li><li>hd2 - Evidence/Transfer Data which has metadata ,report and source file</li><li>hd3 - Target Data which has rebuilt file in same folder structure as hd1</li></ul></li></ul></li><li>work - Contains Jupyter notebook execution codes</li></ul></li></ul><h3 id=jupyter-use-case-2>Jupyter: Use case 2</h3><ul><li>Navigate to <code>Work>Use case 2 - Process files</code></li><li>Follow the steps below or point to the <a href="https://www.youtube.com/watch?v=VVLtm7BAK9A">video</a></li><li>Modify <code>ips</code> in Jupyter box. Specify <code>GW SDK IP</code> you are using.</li><li>You can also modify <code>base_folder</code> and <code>data_paths</code> to use specific files for your testing (or add/remove files directly on Minio)
<img src=https://user-images.githubusercontent.com/70108899/114375743-470e3080-9b85-11eb-9fed-121fe481cd85.png alt=image></li><li>Trigger test execution by pressing <code>RUN</code> from top bar</li><li>Wait until it is all processed (process bar is full) and you get tree structure
<img src=https://user-images.githubusercontent.com/70108899/114376283-c6036900-9b85-11eb-9560-d5ac0ac85a4e.png alt=image></li><li>If you used default data for testing you can navigate back to Minio and verify that files are processed and that rebuild file is located in HD3 folder</li></ul><h2 id=run-tests-using-swagger>Run tests using Swagger</h2><ul><li><p>Open Swagger by accessing <code>localhost:8000</code> within your browser</p><ul><li>On the page you will find documentation about each fastAPI call with number steps on how to follow</li></ul><p><img src=https://user-images.githubusercontent.com/70108899/114287519-b7269480-9a67-11eb-82a1-d8e7f4bd57a1.png alt=image></p><ul><li>To test <code>CDR plugin folder to folder</code> solution<ul><li><strong>Step 0</strong>: Configuration<ul><li>Execute <code>/configuration/configure_env</code> API that will set hard discs. Default is set to Minio Scenario 1 but here you can switch to Scenario 2 or any other you create</li><li>Execute <code>/configuration/configure_gw_sdk_endpoints</code> API, provide <code>GW SDK IP</code> and set port to <code>8080</code></li></ul></li><li><strong>Step 1</strong>: Pre Processor<ul><li>Execute <code>/pre-processor/pre-process</code> API and verify that response status code is 200</li></ul></li><li><strong>Step 2</strong>: Processing<ul><li>Execute <code>/processing/start</code> API and verify that response status code is 200</li></ul></li><li><strong>Step 3</strong>: Go back to Minio, and under scenario 1 (or any other you used) you should be able to see HD2 and HD3 having the data and original file being rebuilt</li></ul></li></ul></li></ul><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/clipboard.min.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/perfect-scrollbar.min.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/perfect-scrollbar.jquery.min.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/jquery.sticky.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/featherlight.min.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/highlight.pack.js?1626875318></script><script>hljs.initHighlightingOnLoad()</script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/modernizr.custom-3.6.0.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/learn.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/js/hugo-learn.js?1626875318></script><script src=https://filetrust.github.io/cdr-plugin-folder-to-folder/mermaid/mermaid.js?1626875318></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html>